<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="/">
    <!-- <meta charset="UTF-8"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/lib/wangEditor/css/wangEditor.min.css" />
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/post/post.css" />
    <style type="text/css">
        #div1 {
            width: 100%;
            height: 500px;
        }
    </style>
  </head>
  <body ng-app="post">
    <div id="header"></div>

    <div class="container" ng-controller="PostController">
      <ol class="breadcrumb">
        <li><a href="/view/admin/index.html" target="_self">首页</a></li>
        <li><a href="/view/admin/category-list.html" target="_self">类别文章管理</a></li>
        <li><a href="/view/admin/post-list.html?cid={{cid}}" target="_self">文章列表</a></li>
        <li class="active">文章详情</li>
      </ol>
      <div class="page-header">
        <h1>文章详情</h1>
      </div>
      <form class="form-horizontal" role="form" ng-submit="save(post)">
        <div class="form-group">
          <div class="col-sm-12">
            <span>
              所属类目：
            </span>
            
            <span>{{post.categoryName}}</span>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-12">
            <span>
              标题：
            </span>
            <input type="text" class="form-control" ng-model="post.title" ng-if="editting"/>
            <span ng-if="!editting">{{post.title}}</span>
          </div>
        </div>
        <div class="form-group" ng-if="!editting">
          <div class="col-xs-12">
            <label for="introduction">简要概述</label>
            <div class="alert alert-info" role="alert" ng-bind-html="post.introduction"></div>
          </div>
        </div>
        <div class="form-group" ng-if="editting">
          <div class="col-xs-12">
            <label for="introduction">简要概述</label>
            <textarea placeholder="请输入简要概述" class="form-control" style="height: 100px;" ng-model="post.introduction"></textarea>
          </div>
        </div>
        <div class="form-group" ng-if="!editting">
          <div class="col-xs-12">
            <div class="container-content" ng-bind-html="post.content"></div>
          </div>
        </div>
        <div class="form-group" ng-if="editting">
          <div class="col-xs-12">
            <div class="" id="editor-trigger" ng-model="post.content" contenteditable="true" style="height:400px;max-height:500px;"></div>
          </div>
        </div>     
        <div class="form-group">
          <div class="col-sm-12 content-center">
            <button class="btn btn-primary" title="edit" ng-if="!editting" ng-click="changeButtonFlag();">编辑</button>
            <button class="btn btn-success" type="submit" title="submit" ng-if="editting">保存</button>
            <!-- <button ng-click="changeButtonFlag();" class="btn btn-success" title="submit">change</button> -->
          </div>
        </div>
      </form>
    </div>
    <script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="/bower_components/angular-resource/angular-resource.min.js"></script>
    <script type="text/javascript" src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/bower_components/angular-sanitize/angular-sanitize.min.js"></script>
    <script type="text/javascript" src="/lib/layer-v2.1/layer/layer.js"></script>
    <script type="text/javascript" src="/lib/wangEditor/js/wangEditor.min.js"></script>
    <script type="text/javascript" src="/app/common/page-layout-init.js"></script>
    <script type="text/javascript" src="/app/admin/post/post.js"></script>
    <script type="text/javascript" src="/app/admin/post/controllers.js"></script>
    <script type="text/javascript" src="/app/admin/post/services.js"></script>
    <script type="text/javascript">
        // $(function () {
        //     var editor = new wangEditor('div1');
        //     editor.create();
        // });
    </script>
  </body>
</html>